<!DOCTYPE html>
<html>
<head>
    <!-- <title>Sebuah Permainan - Website Devan</title> -->
    <title>Soal Matematika</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter">
    <link rel="stylesheet" href="checkbox.css">
    <link rel="stylesheet" href="radio-buttons.css">
    <link rel="stylesheet" href="sidebar.css">
	<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-mml-chtml.js"></script>
	<script src="speech.js"></script>
</head>
<style>
    /* Fonts */
    /* @import url("https://fonts.googleapis.com/css?family=Inter"); */
    @import url("https://fonts.googleapis.com/css?family=Inter:500");
    @import url("https://fonts.googleapis.com/css?family=Source+Sans+Pro");
    @import url('https://fonts.googleapis.com/css?family=Rubik');

    html {
        --darkmode: 0;
        container-name: root;
        container-type: normal;
    }
    body {
        /* background-color: #a0c0e0; */
        background-color: #a0e0d0;
        /* font-family:"Helvetica",sans-serif; */
        /* font-family:"Source Sans Pro",sans-serif; */
        font-family:"Rubik",sans-serif;
        font-size: 16px;
        margin: 0 auto;
        width: 85%;
    }
	#top-color {
		background-color:rgba(32,48,64,0);
	}
    .color2 {
        color: #002080;
    }
    .heading {
        font-family:"Inter",sans-serif;
    }
    .column {
        float: left;
        padding-right: 10px;
    }
    .row:after {
        content: "";
        display: table;
        clear: both;
    }
    button {
        font-family:"Rubik",sans-serif;
        font-size: 20px;
    }
    .button {
        border: 1px solid #808080;
        color: black;
        box-shadow: 2px 2px 2px;
        padding: 5px 10px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 18px;
        margin: 2px 2px;
        border-radius: 6px;
        cursor: pointer;
    }
    #solve {
        background-color: #80ff80;
    }
    #reset {
        background-color: #ff8080;
    }

    /* Open and Close Button */
    .openbtn {
        /* background-color: #d0d0d0; */
        /* background-color: lightblue;
        font-size: 24px;
        cursor: pointer; */
        background-color: white;
        border: 2px solid gray;
        border-radius: 6px;
        cursor: pointer;
        width: 46px;
        font-size: 0px;
        transition: 0.3s;
    }
    .openbtn:hover {
        background-color: #e0e0e0;
    }
    .openbtn img {
        filter: invert(100%);
        padding: 8px;
    }

    /* a {
        font-size: 18px;
    } */
    a.button2:link, a.button2:visited {
        background-color: #f0f0f0;
        color: black;
        padding: 5px 10px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        border: 1px solid #404040;
        border-radius: 6px;
        transition: 0.3s;
    }
    a.button2:hover, a.button2:active {
        background-color: #d0d0d0;
    }
    input[type=number], input[type=text], select {
        /* width: 100%; */
        width: 200px;
        padding: 5px 10px;
        margin: 5px 0;
        display: inline-block;
        font-family:"Rubik",sans-serif;
        font-size: 16px;
        border: 1px solid #404040;
        border-radius: 4px;
        box-sizing: border-box;
    }
    .clearfix:after {
        content: "";
        display: table;
        clear: both;
    }

    /* Slider */
    .slider {
        /* -webkit-appearance: none; */
        appearance: none;
        width: 300px;
        height: 15px;
        border-radius: 5px;
        /* background: white; */
        background-image: repeating-linear-gradient(90deg,#ffc0c0,#ffffc0,#c0ffc0);
        outline: none;
        opacity: 0.7;
        -webkit-transition: .2s;
        transition: opacity .2s;
    }
    .slider:hover {
        opacity: 1;
    }
    .slider::-webkit-slider-thumb {
        appearance: none;
        /* width: 25px;
        height: 25px; */
        width: 25px;
        height: 25px;
        border-radius: 50%;
        background: #2040ff;
        cursor: pointer;
        z-index: 0;
    }
    ol {
        /* word-break: break-all; */
        /* margin: 0; */
        /* padding: 0; */
        padding-left: 0px;
    }
    ul {
        padding-left: 0px;
    }
    li {
        list-style-position: inside;
        padding: 0;
        /* padding-left: 20px; */
    }
    li::before {
        content: "";
        /* width: 10px; */
        display: inline-block;
    }
    img {
        border-radius: 10px;
    }

    /* Create a custom checkbox */
    /* .checkmark {
        position: absolute;
        top: 0;
        left: 0;
        height: 25px;
        width: 25px;
        background-color: #eee;
    } */
    .box {
        background-color: #b0c8e8;
        width: 200px;
        padding: 10px;
    }

    /* Dark Mode */
    /* @media screen and (max-width: 600px) { */
    @container root style(--darkmode: 1) {
        body {
            /* background-color: #203040; */
            /* background-color: #a0e0d0; */
            background-color: #183028;
            color: white;
            /* background-image: repeating-linear-gradient(180deg,#203040,#203040 80%,#304860); */
            background-image: repeating-linear-gradient(0deg,#244842,#183028 200px,#183028);
            /* background-image: url("images/5570834.jpg"); */
            /* background-image: linear-gradient(rgba(0,0,0,0.5),rgba(0,0,0,0.5)),url("images/5570834.jpg");background-repeat: no-repeat; */
			background-image: linear-gradient(rgba(0,0,0,0),rgba(0,0,0,0)),url("images/5570834.jpg");background-repeat: no-repeat;
            background-position: center;
			background-size: auto 100%;
        }
		#top-color {
		    background-color:rgba(32,48,64,0.75);
		}
        .color2 {
            color: #a0e0ff;
        }
        .button {
            background-color: #404040;
            color: white;
            box-shadow: 2px 2px 2px rgba(255,255,255,0.5);
        }
        #solve {
            background-color: #006000;
        }
        #reset {
            background-color: #600000;
        }
        .openbtn {
            background-color: #103880;
            border: 2px solid #c0c0c0;
        }
        .openbtn:hover {
            background-color: #0d2c68;
        }
        .openbtn img {
            filter: invert(0%);
        }
        a.button2:link, a.button2:visited {
            background-color: #202020;
            color: white;
            padding: 5px 10px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            border: 1px solid #c0c0c0;
            border-radius: 6px;
            transition: 0.3s;
        }
        a.button2:hover, a.button2:active {
            background-color: #404040;
        }
        .checkmark {
            background-color: #202020;
            border: solid #c0c0c0;
        }
        .cb-container:hover input ~ .checkmark {
            background-color: #404040;
        }
        .cb-container input:checked ~ .checkmark {
            background-color: #1860c0;
        }
        .cb-container:hover input:checked ~ .checkmark {
            background-color: #124890;
        }
        .checkradio {
            background-color: #202020;
            border: solid #c0c0c0;
        }
        .rb-container:hover input ~ .checkradio {
            background-color: #404040;
        }
        .rb-container input:checked ~ .checkradio {
            background-color: #1860c0;
        }
        .rb-container:hover input:checked ~ .checkradio {
            background-color: #124890;
        }
        input[type=number], input[type=text], select {
            background-color: #202020;
            border: 1px solid #c0c0c0;
            color: white;
        }
        #mySearch {
            background-color: #202020;
            border: 1px solid #c0c0c0;
            color: white;
        }
        .slider {
            background-color: gray;
        }
        .slider::-webkit-slider-thumb {
            border: 2px solid white;
        }
        .sidebar {
            background-color: #303030;
            color: white;
            box-shadow: 0px 8px 16px 0px rgba(255,255,255,0.2);
        }
        .sidebar a {
            color: white;
        }
        .sidebar a:hover {
            background-color: #606060;
        }
        .sidebar .closebtn {
            background-color: #606060;
        }
        .sidebar .closebtn:hover {
            background-color: #808080;
        }
        .sidebar .closebtn img {
            padding: 8px;
        }
        #myMenu {
            color: white;
        }
        img {
            filter: invert(100%);
        }
        a.external {
            font-size: 16px;
        }
        a.external:link {
            color: #8080ff;
            /* background-color: transparent;
            text-decoration: none; */
        }
        a.external:visited {
            color: #c080ff;
        }
        /* .external a:hover {
            color: red;
            background-color: transparent;
            text-decoration: underline;
        } */
        a.external:active {
            color: #ff8080;
        }
    }
</style>
<body>
    <div id="top-color" style="position:absolute; width:100%; height:80px; left:0; top:0; z-index:-1;"></div>
    <h1 class="heading">Soal Pertanyaan Matematika</h1><br>
    <img src="images/soal-matematika.jpg" style="background-color:white; filter:invert(0%);" width="200">

    <div class="sidebar" id="sidebar"></div>
    <div class="backsidebar" id="backsidebar" onclick="closeNav()"></div>
    <div class="column" style="padding-right:30px; position:fixed; left:10px; top:10px;">
        <!-- border: 2px solid white; -->
        <!-- <div class="openbtn" style="border:2px solid #c0c0c0;" onclick="openNav()"><img src="images/menu-icon.jpg" style="filter:invert(0%)" width="30"></div> -->
        <div class="openbtn" onclick="openNav()"><img src="images/menu-icon.jpg" width="30"></div>
    </div><br>

    <script>
        function openNav() {
            document.getElementById("sidebar").style.width = "300px";
            document.getElementById("backsidebar").style.display = "block";
            document.getElementById("backsidebar").style.width = "100%";
            document.getElementById("backsidebar").style.height = "100%";
            // document.body.style.backgroundColor = "rgba(0,0,0,0.5)";
        }
        function closeNav() {
            document.getElementById("sidebar").style.width = "0";
            document.getElementById("backsidebar").style.display = "none";
            document.getElementById("backsidebar").style.width = "0";
            document.getElementById("backsidebar").style.height = "0";
            // document.body.style.backgroundColor = "rgba(0,0,0,0)";
        }

        document.getElementById("sidebar").innerHTML = `
        <div class="closebtn" onclick="closeNav()"><img src="images/close-icon.png" width="20"></div>
        <span style="font-size:26px;"><b>Main Menu</b></span>
        <!-- <input type="text" id="mySearch" onkeyup="myFunction()" placeholder="Search..."><br><br> -->
        <hr style="height:2px; border-width:0; background-color:gray">
        <span style="font-size:22px;"><b>Program</b></span>
        <ul class="heading" id="myMenu" style="line-height:5px;top:0;bottom:0">
            <li><a href="Bangun Datar.html">Bangun Datar</a></li>
            <li><a href="Bangun Ruang.html">Bangun Ruang</a></li>
            <li><a href="Soal Matematika.html">Soal Matematika</a></li>
            <li><a href="Peluang.html">Peluang</a></li>
            <li><a href="Kalkulator Sederhana.html">Kalkulator Sederhana</a></li>
        </ul><br>
        <hr style="height:2px; border-width:0; background-color:gray">
        <span style="font-size:22px;"><b>Lainnya</b></span>
        <ul class="heading" id="myMenu" style="line-height:5px">
            <li><a href="../projects.html">Projects</a></li>
            <li><a href="javascript:void(0)">Tentang program ini</a></li>
        </ul>
        `;
    </script>

    <!-- <span> -->
    <p>
    <b>Soal Pertanyaan</b> dalam Matematika berisi beberapa jenis pertanyaan, yaitu penjumlahan, pengurangan, perkalian, pembagian, dan sebagainya. Lalu ada tingkat kesulitan yang berbeda-beda, dan terdiri dari isian dan pilihan ganda. Selain itu, ada timer untuk setiap soal pada pengaturan.
    <br><br>
    Program ini akan menjawab beberapa soal matematika dan jenis-jenisnya.<br>
    Program ini bisa membuat soal baru dengan angka yang berbeda dengan tombolnya, lalu klik selesaikan.
	<!-- <br><br>
	When \(a \ne 0\), there are two solutions to \(ax^2 + bx + c = 0\) and they are
	\[x = {-b \pm \sqrt{b^2-4ac} \over 2a}.\] -->
    <br><br>
    Link:<br>
    <!-- <ul style="padding:0"> -->
    <!-- <ul style="padding-left:20px;"> -->
    <!-- Soal matematika menggunakan font MathJax -->
    <ul style="padding-left:20px;">
        <li><a class="external" href="https://www.ruangguru.com/blog/matematika-kelas-7-mengenal-operasi-hitung-pada-pecahan">Mengenal Operasi Hitung pada Pecahan - Ruangguru</a></li>
		<li><a class="external" href="https://www.ruangguru.com/blog/matematika-kelas-7-mengingat-kembali-apa-itu-kpk-dan-fpb">KPK dan FPB - Ruangguru</a></li>
    </ul>
    <br><br>
    Ada yang baru di program ini, yaitu:<br>
    <ul style="padding-left:20px;">
        <li>Penjelasan pada masing-masing jenis pertanyaan</li>
        <li>Jenis Pertanyaan</li>
        <li>KPK dan FPB</li>
        <li>Pengaturan</li>
        <li>Pilihan Ganda</li>
        <li>Timer</li>
        <li>Operasi Hitung Campuran</li>
        <li>Bentuk Bersusun</li>
    </ul>
    <br><br>
    </p>
    <!-- - <b>Penjumlahan dan Pengurangan</b><br></p>-->

    <hr style="height:2px; border-width:0; background-color:gray">


    <img src="images/settings-icon.png" style="position:absolute; left:300px; padding-top:5px;" width="40">
    <h2 class="heading">Pengaturan</h2>
    <!-- <label for="bentuk">Pilih jenis pertanyaan matematika:</label><br>
    <select name="bentuk" id="bentuk" style="width:150px"> -->
    <!-- <option>Campuran</option> -->
    
    <h3 class="heading">●&nbsp;&nbsp;&nbsp;<span class="color2">Mode pertanyaan</span></h2>
    <div class="column" style="width:500px; padding-left:25px; padding-right:50px;">
        <label>Pilih jenis pertanyaan matematika:</label><br>
        <select id="bentuk" style="width:300px" onchange="pilihan(true);clearInterval(myInterval);">
            <!-- <option style="color:gray">Sisa Pembagian</option> -->
            <option>Penjumlahan</option>
            <option>Pengurangan</option>
            <option>Perkalian</option>
            <option>Pembagian</option>
            <option>Penjumlahan dan Pengurangan</option>
            <option>Operasi Hitung Campuran</option>
            <option>Faktor Bilangan</option>
            <option>KPK</option>
            <option>FPB</option>
            <!-- <option style="color:gray">KPK</option> -->
            <!-- <option style="color:gray">FPB</option> -->
            <option>Pecahan</option>
            <option>Bilangan Desimal dan Persen</option>
            <option>Perpangkatan</option>
            <option>Akar Kuadrat</option>
            <option>Akar Kubik</option>
			<option style="color:gray">Konversi Satuan</option>
            <option style="color:gray">Bangun Datar</option>
            <option style="color:gray">Bangun Ruang</option>
            <option style="color:gray">Persamaan Linear</option>
            <option style="color:gray">Persamaan Dua Variabel</option>
			<option style="color:gray">Pemfaktoran</option>
            <option style="color:gray">Persamaan Kuadrat</option>
            <option style="color:gray">Trigonometri</option>
			<option style="color:gray">Peluang</option>
			<option style="color:gray">Berhitung</option>
        </select><br><br>

        <div id="bentuk-penjelasan" style="line-height:1.5em">
            <img src="images/Addition01.svg.png" style="filter:invert(0%); padding-right:50px;" width="50">
            <img src="images/plus.png" width="80"><br><br>
            Penjumlahan ("+") merupakan penambahan sekelompok bilangan atau lebih menjadi suatu bilangan yang disebut jumlah. Misalnya, terdapat tiga apel di sisi kiri dan dua apel di sisi kanan, menghasilkan jumlah lima apel. Dalam simbol matematika, ini dilambangkan "3 + 2 = 5", disebut "3 ditambah 2 sama dengan 5".
        </div><br><br>

        <div id="bentuk-sub" style="display:none">
            <label>Pilih jenis pertanyaan 2:</label><br>
            <select id="pilihan-bentuk-sub" style="width:300px" onchange="pilihan();clearInterval(myInterval);"></select><br><br>
        </div>
        
        <div id="bentuk-soal" style="display:block">
            <div class="column" style="padding-right:50px;">
                <label>Pilih bentuk soal:</label><br>
                <select id="pilihan-bentuk-soal" style="width:200px" onchange="pilihan();clearInterval(myInterval);">
                    <!-- <option>Tulisan datar</option> -->
                    <option>Tulisan Datar</option>
                    <option>Bentuk Bersusun</option>
                </select>
            </div>
            <div class="column" id="contoh-bentuk-soal">
                <span>
                Contoh:<br><br>
                Hasil dari 123 + 45 adalah ...
                </span>
            </div>
            <div class="clearfix"></div>
            <br><br>
        </div>
    </div>

    <div class="column" style="padding-right:50px;">
        <label>Pilih tingkat kesulitan:</label><br>
        <select id="level" style="width:150px">
            <option>Mudah</option>
            <option>Sedang</option>
            <option>Sulit</option>
            <option>Kustom</option>
        </select><br><br>
        <div class="column" style="padding-right:70px;">
            <label>Pilih tipe pertanyaan:</label><br>
            <!-- <select id="tipe" style="width:150px" onchange="pilihan()"> -->
            <select id="tipe" style="width:150px" onchange="pilihan();clearInterval(myInterval);">
                <option>Isian</option>
                <option>Pilihan ganda</option>
            </select>
        </div>
        <!-- <div class="column" id="pilihan" style="display:block"> -->
        <div class="column" id="pilihan" style="display:none">
            <label>Jumlah pilihan:</label><br>
            <select name="jumlah-pilihan" id="jumlah-pilihan" style="width:150px" onchange="pilihan();clearInterval(myInterval);">
                <option>3</option>
                <option>4</option>
                <option>5</option>
            </select>
        </div>
        <div class="clearfix"></div>

        <label class="cb-container" style="width:400px;">Percobaan satu kali dalam setiap soal
            <input type="checkbox" id="check2" onclick="settings_check();tampilkan()">
            <span class="checkmark"></span>
        </label>
        <label class="cb-container" style="width:400px;">Dengan soal cerita
            <input type="checkbox" id="check" onclick="settings_check();tampilkan()">
            <span class="checkmark"></span>
        </label><br>

        <div class="box" id="cerita" style="background-color:#a0b0c0; width:200px; display:none">
            <span style="font-size:20px"><b>Soal cerita</b></span><br><br>
            <label>Pilih tipe pertanyaan:</label><br>
            <select id="cerita2" style="width:150px" onchange="tampilkan()">
                <option>Buah</option>
                <option>Uang</option>
            </select>
        </div>
    </div>
    <div class="clearfix"></div>
    <br>

    <img src="images/timer-icon.png" id="timer-icon" style="position:absolute; left:400px;" width="60">
    <div class="column" style="padding-right:50px;">
        <label>Pilih waktu timer setiap soal:</label><br>
        <select id="waktu" style="width:150px" onchange="pilihan();clearInterval(myInterval);">
            <option value="0">Tidak ada</option>
            <option value="5">5 detik</option>
            <option value="10">10 detik</option>
            <option value="15">15 detik</option>
            <option value="30">30 detik</option>
            <option value="60">1 menit</option>
            <option value="1">Kustom</option>
        </select>
    </div>
    <div class="column" id="waktu-timer" style="display:none">
        <label>Waktu timer:</label><br>
        <input type="number" id="waktu2" style="width:150px;" min="1" value="10">
        <label>&nbsp;detik</label>
    </div>
    <div class="clearfix"></div>
    <br><br>

    <!-- <label>Dengan soal cerita:</label> -->
    <!-- <input type="checkbox" id="check" onclick="change()"> -->
    <!-- <input type="checkbox" id="check" onclick="tampilkan()"> -->
	<label class="cb-container" style="width:400px;">Dengan ucapan suara
        <input type="checkbox" id="suara" onclick="settings_check()">
        <span class="checkmark"></span>
    </label>
    <label class="cb-container" style="width:400px; color:gray;">Tampilkan langkah penyelesaian (Coming Soon)
        <input type="checkbox" id="suara" onclick="settings_check()">
        <span class="checkmark"></span>
    </label>
    <label class="cb-container" style="width:400px;">Terapkan tema gelap
        <input type="checkbox" id="tema" onclick="settings_check()">
        <span class="checkmark"></span>
    </label>
    <label class="cb-container" style="width:400px;">Pertahankan pengaturan<br>
        <span style="font-size:14px">Akan direset secara otomatis setelah 3 hari tidak digunakan</span>
        <!-- <input type="checkbox" id="settings" checked="checked"> -->
        <input type="checkbox" id="settings" onclick="settings_check()">
        <span class="checkmark"></span>
    </label>
    <br><br>

    <hr style="height:2px; border-width:0; background-color:gray">


    <h2 class="heading">Pertanyaan</h2>
    <!-- <p id="soal">Hasil dari 2 + 3 adalah ...</p> -->
    <!-- <p>Pilih pertanyaan</p> -->
    <!-- <p id="soal" style="width:500px; word-wrap:break-word;">Belum ada soal</p> -->
    <span id="soal" style="width:500px; word-wrap:break-word;">Belum ada soal</span>
    <div id="timer" style="position:absolute; left:500px;"></div><br><br>
    <!-- <div class="column" style="padding-right:50px;"></div> -->
    <button class="button" onclick="pilihan();buat();pilihan();clearInterval(myInterval);">Buat soal baru</button><br><br>
    <div id="tipe2"></div><br>
    <button class="button" id="solve" onclick="selesaikan()">Selesaikan</button>
    <br><br>

    <h2 class="heading">Jawaban</h2>
    <p id="jawaban">Belum ada jawaban</p>

    <br><br>
    <a class="button2" href="../projects.html">Kembali ke menu projects</a>

    <br><br>
    <!-- <p>Terakhir diupdate: 2 Feb 2024</p> -->
    <!-- <p>Terakhir diupdate: 29 Nov 2024</p> -->
    <!-- <p>Terakhir diupdate: 5 Feb 2025</p> -->
    <!-- <p>Terakhir diupdate: 5 Maret 2025</p> -->
    <p>Terakhir diupdate: 5 Mei 2025</p>

    <script>
        // Time
        d = new Date();
        time = d.getTime();
        time_old = localStorage.getItem('time2');
        if (time_old == null) {
            time_old = 0;
        }
        check_old = localStorage.getItem("settings-check");
        check_old = check_old == "true";
        // if (time > parseInt(time_old) + 5000) {
        if (time > parseInt(time_old) + 3*86400*1000) {
            check_old = false;
        }

        // change();
        if (check_old) {
            soal_cerita_check_old = localStorage.getItem("soal-cerita-check");
            soal_cerita_check_old = soal_cerita_check_old == "true"
            percobaan_check_old = localStorage.getItem("percobaan-check");
            percobaan_check_old = percobaan_check_old == "true"
			suara_check_old = localStorage.getItem("suara-check");
            suara_check_old = suara_check_old == "true"
            theme_check_old = localStorage.getItem("tema-check");
            theme_check_old = theme_check_old == "true"
        } else {
            soal_cerita_check_old = false;
            percobaan_check_old = false;
			suara_check_old = false;
            theme_check_old = false;
            // clear_all();
        }

        document.getElementById("check").checked = soal_cerita_check_old;
        document.getElementById("check2").checked = percobaan_check_old;
		document.getElementById("suara").checked = suara_check_old;
        document.getElementById("tema").checked = theme_check_old;
        document.getElementById("settings").checked = check_old;
        settings_check();
        // pilihan(); // On off

        // interval = 1000;
        interval = 200;
        setInterval(function() {
            d = new Date();
            time = d.getTime();
            // document.getElementById("time").innerHTML = time;
            // console.log(time);
            localStorage.setItem("time2", time);
        }, interval);

        function settings_check() {
			soal_cerita_check = document.getElementById("check").checked;
            percobaan_check = document.getElementById("check2").checked;
			suara_check = document.getElementById("suara").checked;
            theme_check = document.getElementById("tema").checked;
            check = document.getElementById("settings").checked;
            localStorage.setItem("settings-check", check);
            // console.log(theme_check);
            console.log(check);
            //console.log(unit_check);
            //console.log(digit)
            if (check) {
                localStorage.setItem("soal-cerita-check", soal_cerita_check);
                localStorage.setItem("percobaan-check", percobaan_check);
				localStorage.setItem("suara-check", suara_check);
                localStorage.setItem("tema-check", theme_check);
            }
            if (theme_check) {
                document.documentElement.style.setProperty('--darkmode', 1);
            } else {
                document.documentElement.style.setProperty('--darkmode', 0);
            }
        }

        function tampilkan() {
            var cerita_check = document.getElementById("check");
            var cerita = document.getElementById("cerita");
            if (cerita_check.checked == false) {
                cerita.style.display = "none";
            } else {
                cerita.style.display = "block";
            }
        }
        
        a = 0;
        b = 0;
        a2 = 0;
        b2 = 0;
        a_2 = 0;
        b_2 = 0;
        function buat() {
			var bs = document.getElementById("pilihan-bentuk-soal");
            var bs2 = bs.options[bs.selectedIndex];
            var e = document.getElementById("bentuk");
            var e1 = e.options[e.selectedIndex];
            var level = document.getElementById("level");
            var level2 = level.options[level.selectedIndex];
            var tipe = document.getElementById("tipe");
            var tipe2 = tipe.options[tipe.selectedIndex];
            // var tanda = '';
            document.getElementById('jawaban').innerHTML = 'Belum ada jawaban';
            document.getElementById('tipe2').style.display = 'block';
            // document.getElementById('angka').innerHTML = '';

            function gcd(a, b) {
                for (let temp = b; b !== 0;) {
                    b = a % b;
                    a = temp;
                    temp = b;
                }
                return a;
            }
  
            // function lcmFunction(a, b) { 
            function lcm(a, b) { 
                const gcdValue = gcd(a, b);
                return (a * b) / gcdValue; 
            } 

            soal = '';
            if (e1.index == 0) {
                document.getElementById("bentuk-sub").style.display = 'none';
                if (level2.index == 0) {
                    a = Math.floor(1 + 10 * Math.random());
                    b = Math.floor(1 + 10 * Math.random());
                } else if (level2.index == 1) {
                    a = Math.floor(10 + 90 * Math.random());
                    b = Math.floor(10 + 90 * Math.random());
                } else {
                    a = Math.floor(100 + 900 * Math.random());
                    b = Math.floor(100 + 900 * Math.random());
                }
                tanda = ' + ';
				tanda_suara = 'ditambah';
                hasil = a+b;
                soal = a + tanda + b;

            } else if (e1.index == 1) {
                document.getElementById("bentuk-sub").style.display = 'none';
                if (level2.index == 0) {
                    kecil = Math.floor(1 + 10 * Math.random());
                    a = Math.floor(1 + 10 * Math.random()) + kecil - 1;
                    b = kecil;
                } else if (level2.index == 1) {
                    kecil = Math.floor(10 + 40 * Math.random());
                    a = Math.floor(10 + 40 * Math.random()) + kecil;
                    b = kecil;
                } else {
                    kecil = Math.floor(100 + 400 * Math.random());
                    a = Math.floor(100 + 400 * Math.random()) + kecil;
                    b = kecil;
                }
                tanda = ' - ';
				tanda_suara = 'dikurangi';
                hasil = a-b;
                soal = a + tanda + b;

            } else if (e1.index == 2) {
                document.getElementById("bentuk-sub").style.display = 'none';
                if (level2.index == 0) {
                    a = Math.floor(1 + 10 * Math.random());
                    b = Math.floor(1 + 10 * Math.random());
                } else if (level2.index == 1) {
                    if (Math.random() < 0.5) {
                        a = Math.floor(10 + 20 * Math.random());
                        b = Math.floor(3 + 17 * Math.random());
                    } else {
                        a = Math.floor(3 + 17 * Math.random());
                        b = Math.floor(10 + 20 * Math.random());
                    }
                } else {
                    if (Math.random() < 0.5) {
                        a = Math.floor(50 + 250 * Math.random());
                        b = Math.floor(10 + 40 * Math.random());
                    } else {
                        a = Math.floor(10 + 40 * Math.random());
                        b = Math.floor(50 + 250 * Math.random());
                    }
                }
                tanda = ' x '
				tanda_suara = 'dikali';
                hasil = a*b;
                soal = a + tanda + b;

            } else if (e1.index == 3) {
                document.getElementById("bentuk-sub").style.display = 'none';
                if (level2.index == 0) {
                    kecil = Math.floor(1 + 10 * Math.random());
                    a = Math.floor(1 + 10 * Math.random()) * kecil;
                } else if (level2.index == 1) {
                    if (Math.random() < 0.5) {
                        kecil = Math.floor(10 + 20 * Math.random());
                        a = Math.floor(3 + 17 * Math.random()) * kecil;
                    } else {
                        kecil = Math.floor(3 + 17 * Math.random());
                        a = Math.floor(10 + 20 * Math.random()) * kecil;
                    }
                } else {
                    if (Math.random() < 0.5) {
                        kecil = Math.floor(10 + 20 * Math.random());
                        a = Math.floor(3 + 17 * Math.random()) * kecil;
                    } else {
                        kecil = Math.floor(50 + 250 * Math.random());
                        a = Math.floor(10 + 40 * Math.random()) * kecil;
                    }
                }
                b = kecil;
                tanda = ' : '
				tanda_suara = 'dibagi';
                hasil = Math.floor(a/b);
                soal = a + tanda + b;

            } else if (e1.index == 4) {
                document.getElementById("bentuk-sub").style.display = 'none';
                // 3 angka
                if (Math.random() < 0.25) {
                    a = Math.floor(1 + 20 * Math.random());
                    b = Math.floor(1 + 20 * Math.random());
                    c = Math.floor(1 + 20 * Math.random());
                    tanda = ' + ';
                    tanda_suara = 'ditambah';
                    tanda2 = ' + ';
                    tanda2_suara = 'ditambah';
                    hasil = a+b+c;
                } else if (Math.random() < 0.5) {
                    if (Math.random() < 0.5) {
                        a = Math.floor(5 + 16 * Math.random());
                        b = Math.floor(1 + 20 * Math.random());
                    } else {
                        a = Math.floor(1 + 20 * Math.random());
                        b = Math.floor(5 + 16 * Math.random());
                    }
                    if (a+b < 20) {
                        c = Math.floor(1 + (a+b) * Math.random());
                    } else {
                        c = Math.floor(1 + 20 * Math.random());
                    }
                    tanda = ' + ';
					tanda_suara = 'ditambah';
                    tanda2 = ' - ';
					tanda2_suara = 'dikurangi';
                    hasil = a+b-c;
                } else if (Math.random() < 0.75) {
                    a = Math.floor(5 + 16 * Math.random());
                    b = Math.floor(1 + a * Math.random());
                    c = Math.floor(1 + 20 * Math.random());
                    tanda = ' - ';
					tanda_suara = 'dikurangi';
                    tanda2 = ' + ';
					tanda2_suara = 'ditambah';
                    hasil = a-b+c;
                } else {
                    b = Math.floor(1 + 20 * Math.random());
                    c = Math.floor(1 + 20 * Math.random());
                    a = Math.floor(b + c + 20 * Math.random());
                    tanda = ' - ';
                    tanda_suara = 'dikurangi';
                    tanda2 = ' - ';
                    tanda2_suara = 'dikurangi';
                    hasil = a-b-c;
                }
                soal = a + tanda + b + tanda2 + c;

            } else if (e1.index == 5) {
                document.getElementById("bentuk-sub").style.display = 'none';
                if (Math.random() < 0.25) {
                    a = Math.floor(2 + 9 * Math.random());
                    b = Math.floor(2 + 9 * Math.random());
                    if (Math.random() < 0.5) {
                        c = Math.floor(1 + 10 * Math.random());
						hasil = a*b+c;
						soal = `${a} x ${b} + ${c}`;
						soal_suara = `${a} dikali ${b} ditambah ${c}`;
                    } else {
                        c = Math.floor(1 + 10 * Math.random());
						hasil = a*b-c;
						soal = `${a} x ${b} - ${c}`;
						soal_suara = `${a} dikali ${b} dikurangi ${c}`;
                    }
                } else if (Math.random() < 0.5) {
					kecil = Math.floor(1 + 10 * Math.random());
                    a = Math.floor(1 + 10 * Math.random()) * kecil;
                    b = kecil;
                    if (Math.random() < 0.5) {
                        c = Math.floor(1 + 10 * Math.random());
						hasil = Math.floor(a/b+1e-10)+c;
						soal = `${a} : ${b} + ${c}`
						soal_suara = `${a} dibagi ${b} ditambah ${c}`;
                    } else {
                        c = Math.floor(1 + 10 * Math.random());
						hasil = Math.floor(a/b+1e-10)-c;
						soal = `${a} : ${b} - ${c}`
						soal_suara = `${a} dibagi ${b} dikurangi ${c}`;
                    }
                } else if (Math.random() < 0.75) {
                    a = Math.floor(2 + 9 * Math.random());
                    b = Math.floor(1 + 10 * Math.random());
                    if (Math.random() < 0.5) {
                        c = Math.floor(1 + 10 * Math.random());
						hasil = a*(b+c);
						if (Math.random() < 0.5) {
							soal = `${a} x (${b} + ${c})`;
							soal_suara = `${a} dikali kurung buka ${b} ditambah ${c} kurung tutup`;
						} else {
							soal = `(${b} + ${c}) x ${a}`;
							soal_suara = `kurung buka ${b} ditambah ${c} kurung tutup dikali ${a}`;
						}
                    } else {
                        c = Math.floor(1 + 10 * Math.random());
						hasil = a*(b-c);
						if (Math.random() < 0.5) {
							soal = `${a} x (${b} - ${c})`;
							soal_suara = `${a} dikali kurung buka ${b} dikurangi ${c} kurung tutup`;
						} else {
							soal = `(${b} - ${c}) x ${a}`;
							soal_suara = `kurung buka ${b} dikurangi ${c} kurung tutup dikali ${a}`;
						}
                    }

                } else {
					kecil = Math.floor(1 + 10 * Math.random());
					a = Math.floor(1 + 10 * Math.random());
                    a2 = Math.floor(1 + 10 * Math.random()) * kecil;
                    c = kecil;
                    if (Math.random() < 0.5) {
						b = a2 - a
						hasil = (a+b)/c;
						soal = `(${a} + ${b}) / ${c}`;
						soal_suara = `kurung buka ${a} ditambah ${b} kurung tutup dibagi ${c}`;
                    } else {
						b = a2 + a
						hasil = (a-b)/c;
						soal = `(${a} - ${b}) / ${c}`;
						soal_suara = `kurung buka ${a} dikurangi ${b} kurung tutup dibagi ${c}`;
                    }
                }

            } else if (e1.index == 6) {
                // document.getElementById("bentuk-sub").style.display = 'block';
                // document.getElementById("pilihan-bentuk-sub").innerHTML = `
                //     <option>Sisa Pembagian</option>
                //     <option>Faktor Bilangan</option>
                // `;
                // var e_bentuk = document.getElementById("pilihan-bentuk-sub");
                // var e1_bentuk = e_bentuk.options[e_bentuk.selectedIndex];
                // console.log(e1_bentuk.index);
                if (e1_bentuk.index == 0) {
                    if (level2.index == 0) {
                        kecil = Math.floor(2 + 9 * Math.random());
                        a = Math.floor(2 + 9 * Math.random()) * kecil;
                    } else if (level2.index == 1) {
                        if (Math.random() < 0.5) {
                            kecil = Math.floor(10 + 20 * Math.random());
                            a = Math.floor(3 + 17 * Math.random()) * kecil;
                        } else {
                            kecil = Math.floor(3 + 17 * Math.random());
                            a = Math.floor(10 + 20 * Math.random()) * kecil;
                        }
                    } else {
                        if (Math.random() < 0.5) {
                            kecil = Math.floor(10 + 20 * Math.random());
                            a = Math.floor(3 + 17 * Math.random()) * kecil;
                        } else {
                            kecil = Math.floor(50 + 250 * Math.random());
                            a = Math.floor(10 + 40 * Math.random()) * kecil;
                        }
                    }
                    b = kecil;
                    a += Math.floor(1 + (b-1) * Math.random());
                    tanda = ' : ';
                    hasil = a % b;
                } else {
                    a = Math.floor(1 + 20 * Math.random());
                }
                soal = 'Hasil';

			} else if (e1.index == 7) {
                if (e1_bentuk.index == 0) {
                    var a,b;
                    a = Math.floor(2 + 19 * Math.random());
                    while (b === undefined | a == b) {
                        b = Math.floor(2 + 19 * Math.random());
                    }
                    // hasil = 0;
                    hasil = lcm(a,b);
                } else {
                    var a,b,c;
                    a = Math.floor(2 + 19 * Math.random());
                    while (b === undefined | a == b) {
                        b = Math.floor(2 + 19 * Math.random());
                    }
                    while (c === undefined | a == c | b == c) {
                        c = Math.floor(2 + 19 * Math.random());
                    }
                    hasil = lcm(lcm(a,b),c);
                }

            } else if (e1.index == 8) {
                if (e1_bentuk.index == 0) {
                    var a,b;
                    a = Math.floor(2 + 19 * Math.random());
                    while (b === undefined | a == b) {
                        b = Math.floor(2 + 19 * Math.random());
                    }
                    hasil = gcd(a,b);
                } else {
                    var a,b,c;
                    a = Math.floor(2 + 19 * Math.random());
                    while (b === undefined | a == b) {
                        b = Math.floor(2 + 19 * Math.random());
                    }
                    while (c === undefined | a == c | b == c) {
                        c = Math.floor(2 + 19 * Math.random());
                    }
                    hasil = gcd(gcd(a,b),c);
                }

            } else if (e1.index == 9) {
                // a/b + a2/b2
                a = Math.floor(1 + 9 * Math.random());
                b = Math.floor(a+1 + (11-a-1) * Math.random());
                a_2 = Math.floor(1 + 9 * Math.random());
                b_2 = Math.floor(a_2+1 + (11-a_2-1) * Math.random());
                dibagi = gcd(a*b_2+b*a_2,b*b_2);
                if ((b*b_2)/dibagi == 1) {
                    hasil = (a*b_2+b*a_2)/dibagi;
                } else {
                    hasil = `${(a*b_2+b*a_2)/dibagi}/${(b*b_2)/dibagi}`;
                }
                console.log(hasil);
                soal = `${a}/${b} + ${a_2}/${b_2}`;

            } else if (e1.index == 10) {
                // if (Math.random() < 0.125) {b = 2;}
                if (Math.random() < 0.125) b = 2;
                else if (Math.random() < 0.25) b = 4;
                else if (Math.random() < 0.375) b = 5;
                else if (Math.random() < 0.5) b = 10;
                else if (Math.random() < 0.625) b = 20;
                else if (Math.random() < 0.75) b = 25;
                else if (Math.random() < 0.875) b = 50;
                else b = 100;
                a = Math.floor(1+b*Math.random());
                c = Math.floor(1+100*Math.random());
                hasil = Math.round(100*(a/b+c/100));
                if (Math.random() < 0.5) {
                    // /(30 /% + {1 /over 4}/)
                    soal = `/({${a} /over ${b}} + ${c} /%/)`;
                    soal_suara = `${a} per ${b} ditambah ${c} persen`;
                } else {
                    soal = `/(${c} /% + {${a} /over ${b}}/)`;
                    soal_suara = `${c} persen ditambah ${a} per ${b}`;
                }

            } else if (e1.index == 11) {
                // var a;
                var a2;
                while (a2 === undefined | a == a2) {
                    if (level2.index == 0) {
                        a2 = Math.floor(1 + 10 * Math.random());
                        hasil = a2*a2;
                        pangkat = 2;
                    } else if (level2.index == 1) {
                        if (Math.random() < 0.5) {
                            a2 = Math.floor(11 + 20 * Math.random());
                            hasil = a2*a2;
                            pangkat = 2;
                        } else {
                            a2 = Math.floor(1 + 20 * Math.random());
                            hasil = a2*a2*a2;
                            pangkat = 3;
                        }
                    } else {
                        if (Math.random() < 1/3) {
                            a2 = Math.floor(31 + 170 * Math.random());
                            hasil = a2*a2;
                            pangkat = 2;
                        } else if (Math.random() < 2/3) {
                            a2 = Math.floor(21 + 80 * Math.random());
                            hasil = a2*a2*a2;
                            pangkat = 3;
                        } else {
                            a2 = Math.floor(1 + 30 * Math.random());
                            hasil = a2*a2*a2*a2;
                            pangkat = 4;
                        }
                    }
                }
                a = a2;

            } else if (e1.index == 12) {
			    var a2;
                while (a2 === undefined | a == a2) {
                    if (level2.index == 0) {
                        a2 = Math.floor(1 + 20 * Math.random());
                    } else if (level2.index == 1) {
                        a2 = Math.floor(21 + 80 * Math.random());
                    } else {
                        a2 = Math.floor(101 + 900 * Math.random());
                    }
					a3 = a2*a2;
                    hasil = a2;
                }
                a = a2;

			} else if (e1.index == 13) {
			    var a2;
                while (a2 === undefined | a == a2) {
                    if (level2.index == 0) {
                        a2 = Math.floor(1 + 10 * Math.random());
                    } else if (level2.index == 1) {
                        a2 = Math.floor(11 + 40 * Math.random());
                    } else {
                        a2 = Math.floor(51 + 150 * Math.random());
                    }
					a3 = a2*a2*a2;
                    hasil = a2;
                }
                a = a2;
			}
			
			function bersusun(a,b,tanda) {
                text = `
                <div class="column" style="font-size:20px; width:15px">&nbsp;</div>
                <div class="column" style="font-size:20px; width:15px">1</div>
                <div class="column" style="font-size:20px; width:15px">2</div>
                <div class="column" style="font-size:20px; width:15px">3</div>
                <div class="clearfix"></div>
                <div class="column" style="font-size:20px; width:15px">+</div>
                <div class="column" style="font-size:20px; width:15px">&nbsp;</div>
                <div class="column" style="font-size:20px; width:15px">4</div>
                <div class="column" style="font-size:20px; width:15px">5</div>
                <div class="clearfix"></div>
                <hr style="float:left; width:90px; height:2px; border-width:0; background-color:white">
                `
                max_number = Math.max(a,b);
                length = parseInt(1+Math.log10(max_number));
                length_a = parseInt(1+Math.log10(a));
                length_b = parseInt(1+Math.log10(b));
                text = ``;
                text += `<div class="column" style="font-size:20px; width:15px">&nbsp;</div>`;
                for (let i = 0; i < length; i++) {
                    if (i < length-length_a) {
                        text += `<div class="column" style="font-size:20px; width:15px">&nbsp;</div>`;
                    } else {
                        text += `<div class="column" style="font-size:20px; width:15px">${parseInt(a/(10**(length-i-1))%10)}</div>`;
                    }
                }
                text += `<div class="clearfix"></div>`
                text += `<div class="column" style="font-size:20px; width:15px">${tanda}</div>`
                for (let i = 0; i < length; i++) {
                    if (i < length-length_b) {
                        text += `<div class="column" style="font-size:20px; width:15px">&nbsp;</div>`;
                    } else {
                        text += `<div class="column" style="font-size:20px; width:15px">${parseInt(b/(10**(length-i-1))%10)}</div>`;
                    }
                }
                text += `<div class="clearfix"></div>`
                text += `<hr style="float:left; width:${23*(length+1)}px; height:2px; border-width:0; background-color:white">`
                return text;
            }
			
			function bersusun2(a,b) {
                max_number = Math.max(a,b);
                length = parseInt(1+Math.log10(max_number));
                length_a = parseInt(1+Math.log10(a));
                length_b = parseInt(1+Math.log10(b));
                text = ``;
				text += `<hr style="float:left; margin-left:${23*(length_b+1)-18}px; width:${23*(length_a+1)}px; height:2px; border-width:0; background-color:white">`
				text += `<div class="clearfix"></div>`
                // text += `<div class="column" style="font-size:20px; width:15px">&nbsp;</div>`;
                for (let i = 0; i < length; i++) {
                    if (i >= length-length_b) {
                        text += `<div class="column" style="font-size:20px; width:15px">${parseInt(b/(10**(length-i-1))%10)}</div>`;
                    }
                }
                // text += `<div class="clearfix"></div>`
                text += `<div class="column" style="font-size:20px; float:center; width:15px">|</div>`
                for (let i = 0; i < length; i++) {
                    if (i >= length-length_a) {
                        text += `<div class="column" style="font-size:20px; width:15px">${parseInt(a/(10**(length-i-1))%10)}</div>`;
                    }
                }
                // text += `<div class="clearfix"></div>`
                return text;
            }
            
            // var cerita_check = document.getElementById("check");
			cerita_check = document.getElementById("check");
            var cerita = document.getElementById("cerita");
            var soal_teks;
            if (e1.index <= 18) {
                if (cerita_check.checked == false) {
                    if (e1.index < 4) {
						// document.getElementById('soal').innerHTML = 'Hasil dari ' + a + tanda + b + ' adalah ...';
						if (bs2.index == 0) {
							// document.getElementById('soal').innerHTML = `Hasil dari ${a} ${tanda} ${b} adalah ...`;
							soal_teks = `Hasil dari ${a} ${tanda} ${b} adalah ...`;
							// speak(`Hasil dari ${a} ${tanda} ${b} adalah ...`);
						} else {
							if (e1.index < 3) {
								// document.getElementById('soal').innerHTML = bersusun(a,b,tanda.replace(' ',''));
								soal_teks = bersusun(a,b,tanda);
							} else {
								// soal_teks = '';
								soal_teks = bersusun2(a,b);
							}
						}
						soal_suara = `Hasil dari ${a} ${tanda_suara} ${b} adalah ...`;
						document.getElementById('tipe2').style.display = 'block';
					} else if (e1.index == 4) {
                        soal_teks = `Hasil dari ${a} ${tanda} ${b} ${tanda2} ${c} adalah ...`;
                        soal_suara = `Hasil dari ${a} ${tanda_suara} ${b} ${tanda2_suara} ${c} adalah ...`;
                        document.getElementById('tipe2').style.display = 'block';
                    } else if (e1.index == 5) {
                        soal_teks = `Hasil dari ${soal} adalah ...`;
                        soal_suara = `Hasil dari ${soal_suara} adalah ...`;
                        document.getElementById('tipe2').style.display = 'block';
                    } else if (e1.index == 6) {
                        // soal_teks = `Sisa pembagian dari 13 oleh 4 adalah ...`;
                        if (e1_bentuk.index == 0) {
						    soal_teks = `Sisa pembagian dari ${a} oleh ${b} adalah ...`;
                        } else if (e1_bentuk.index == 1)  {
                            soal_teks = `Angka ${a} merupakan bilangan genap atau ganjil?`;
                        } else if (e1_bentuk.index == 2)  {
                            soal_teks = `Apakah ${a} merupakan bilangan prima?`;
                        } else {
                            soal_teks = `Faktorisasi prima dari ${a} adalah ...`;
                        }
						soal_suara = soal_teks;
                        // soal_teks += `<br><br><span style="color:yellow">Jenis pertanyaan ini belum tersedia</style>`;
						document.getElementById('tipe2').style.display = 'block';
                    } else if (e1.index == 7) {
                        // soal_teks = `KPK dari 6 dan 14 adalah ...`;
                        if (e1_bentuk.index == 0) {
                            soal_teks = `KPK dari ${a} dan ${b} adalah ...`;
                        } else {
                            soal_teks = `KPK dari ${a}, ${b}, dan ${c} adalah ...`;
                        }
						soal_suara = soal_teks;
						document.getElementById('tipe2').style.display = 'block';
                    } else if (e1.index == 8) {
                        // soal_teks = `FPB dari 8 dan 12 adalah ...`;
                        if (e1_bentuk.index == 0) {
                            soal_teks = `FPB dari ${a} dan ${b} adalah ...`;
                        } else {
                            soal_teks = `FPB dari ${a}, ${b}, dan ${c} adalah ...`;
                        }
						soal_suara = soal_teks;
						document.getElementById('tipe2').style.display = 'block';
                    } else if (e1.index == 9) {
                        if (e1_bentuk.index == 0) {
                            if (bs2.index == 0) {
                                // soal_teks = `Hasil dari <span style="font-size:20px">/({1 /over 4} + {2 /over 3}/)`.replaceAll("/","&#x005c");
                                soal_teks = `Hasil dari <span style="font-size:20px">/({${a} /over ${b}} + {${a_2} /over ${b_2}}/)`.replaceAll("/","&#x005c");
                                soal_teks += `</span> adalah ...`
                                if (tipe2.index == 0) {
                                    soal_teks += `<br><br>- Tulis jawaban dengan bentuk tulisan "a" atau "a/b"<br>- Bentuk pecahan paling sederhana`
                                }
                            } else {
                                soal_teks = `Hasil dari ${a}/${b} + ${a_2}/${b_2} adalah ...`;
                            }
                            soal_suara = `Hasil dari ${a} per ${b} ditambah ${a_2} per ${b_2} adalah ...`;
                        } else {
                            if (bs2.index == 0) {
                                soal_teks = `Hasil dari <span style="font-size:20px">/({${a} /over ${b}} - {${a_2} /over ${b_2}}/)`.replaceAll("/","&#x005c");
                                soal_teks += `</span> adalah ...`
                                if (tipe2.index == 0) {
                                    soal_teks += `<br><br>- Tulis jawaban dengan bentuk tulisan "a" atau "a/b"<br>- Bentuk pecahan paling sederhana`
                                }
                            } else {
                                soal_teks = `Hasil dari ${a}/${b} - ${a_2}/${b_2} adalah ...`;
                            }
                            soal_suara = `Hasil dari ${a} per ${b} dikurangi ${a_2} per ${b_2} adalah ...`;
                        }
                        // soal_teks = `When /(a /ne 0/), there are three solutions to /(ax^2 + bx + c = 0/) and they are
                        // /[x = {-b /pm /sqrt{b^2-4ac} /over 2a}./]`.replaceAll("/","&#x005c");
						document.getElementById('tipe2').style.display = 'block';
                    } else if (e1.index == 10) {
						// soal_teks = `Hasil dari &nbsp;<span style="font-size:20px">/(30 /% + {1 /over 4}/)`.replaceAll("/","&#x005c");
                        soal_teks = `Hasil dari &nbsp;<span style="font-size:20px">${soal}`.replaceAll("/","&#x005c");
						soal_teks += `</span>&nbsp; adalah ...`
                        soal_teks += `<br><br>- Hasil jawaban di input jawaban dikali 100 dari hasil awalnya`
						soal_suara = `Hasil dari ${soal_suara} adalah ...`;
						document.getElementById('tipe2').style.display = 'block';
					} else if (e1.index == 11) {
						// soal_teks = `Hasil dari &nbsp;<span style="font-size:20px">/(5^2/)`.replaceAll("/","&#x005c");
                        soal_teks = `Hasil dari &nbsp;<span style="font-size:20px">/(${a}^${pangkat}/)`.replaceAll("/","&#x005c");
						soal_teks += `</span>&nbsp; adalah ...`
						if (pangkat == 2) {
							soal_suara = `Hasil dari ${a} kuadrat adalah ...`;
						} else {
							soal_suara = `Hasil dari ${a} pangkat ${pangkat} adalah ...`;
						}
                        // soal_teks += `<br><br><span style="color:yellow">Jenis pertanyaan ini belum tersedia</style>`;
					} else if (e1.index == 12) {
						// soal_teks = `Bentuk sederhana dari &nbsp;<span style="font-size:20px">/(/sqrt{16}/)`.replaceAll("/","&#x005c");
						soal_teks = `Bentuk sederhana dari &nbsp;<span style="font-size:20px">/(/sqrt{${a3}}/)`.replaceAll("/","&#x005c");
						soal_teks += `</span>&nbsp; adalah ...`;
						soal_suara = `Bentuk sederhana dari akar kuadrat dari ${a3} adalah ...`;
					} else if (e1.index == 13) {
						// soal_teks = `Bentuk sederhana dari &nbsp;<span style="font-size:20px">/(/sqrt[3]{27}/)`.replaceAll("/","&#x005c");
						soal_teks = `Bentuk sederhana dari &nbsp;<span style="font-size:20px">/(/sqrt[3]{${a3}}/)`.replaceAll("/","&#x005c");
						soal_teks += `</span>&nbsp; adalah ...`;
						soal_suara = `Bentuk sederhana dari akar pangkat 3 dari ${a3} adalah ...`;
					} else if (e1.index == 14) {
						soal_teks = `Waktu 3 menit berapa detik?`;
						soal_suara = soal_teks;
                        soal_teks += `<br><br><span style="color:yellow">Jenis pertanyaan ini belum tersedia</style>`;
					} else if (e1.index == 15) {
						soal_teks = `Diketahui panjang sisi persegi adalah 4 cm. Luas perseginya adalah ...`;
                        soal_teks += `<br><br><span style="color:yellow">Jenis pertanyaan ini belum tersedia</style>`;
                    } else if (e1.index == 16) {
                        soal_teks = `Diketahui panjang sisi kubus adalah 3 cm. Luas perseginya adalah ...`;
                        soal_teks += `<br><br><span style="color:yellow">Jenis pertanyaan ini belum tersedia</style>`;
					} else if (e1.index == 17) {
                        soal_teks = `Solusi x dari &nbsp;<span style="font-size:20px">/(2x + 3 = 5/)`.replaceAll("/","&#x005c");
                        soal_teks += `</span>&nbsp; adalah ...`
                        soal_teks += `<br><br><span style="color:yellow">Jenis pertanyaan ini belum tersedia</style>`;
                    } else if (e1.index == 18) {
                        soal_teks = `Solusi x dari &nbsp;<span style="font-size:20px">/(x^2 - 3x + 2 = 0/)`.replaceAll("/","&#x005c");
                        soal_teks += `</span>&nbsp; adalah ...`
                        soal_teks += `<br><br><span style="color:yellow">Jenis pertanyaan ini belum tersedia</style>`;
                    }
				} else {
					var cerita2 = document.getElementById("cerita2");
					cerita2 = cerita2.options[cerita2.selectedIndex];
					if (e1.index == 0) {
						if (cerita2.index == 0) {
							if (Math.random < 1/3) {nama_orang = 'ibu'}
							else if (Math.random < 2/3) {nama_orang = 'ayah'}
							else {nama_orang = 'abang'}
						    if (Math.random < 0.2) {nama_buah = 'buah'}
							else if (Math.random < 0.4) {nama_buah = 'apel'}
							else if (Math.random < 0.6) {nama_buah = 'pisang'}
							else if (Math.random < 0.8) {nama_buah = 'jeruk'}
							else {nama_buah = 'mangga'}
							// soal_teks = `Di dalam sebuah toko buah, ibu membeli ${a} buah. Kemudian adik memberikan buahnya kepada ibu sebanyak ${b} buah. Berapa jumlah buah ibu sekarang?`;
							soal_teks = `Di dalam sebuah toko buah, ${nama_orang} membeli ${a} ${nama_buah}. Kemudian adik memberikan buahnya kepada ${nama_orang} sebanyak ${b} ${nama_buah}. Berapa jumlah ${nama_buah} ${nama_orang} sekarang?`;
						} else if (cerita2.index == 0){
							soal_teks = `Di dalam sebuah pusat perbelanjaan, ibu membeli sesuatu seharga ${a} ribu. Kemudian adik membeli lagi seharga ${b} ribu, lalu dikumpulkan ke keranjang ibu. Berapa jumlah uang ibu sekarang? (dalam ribuan)`;
						} else {
						    soal_teks = `Ibu ingin menimbang buah apel dengan berat ${a} kg, lalu seseorang menaruh buah pisang di atas timbangan dengan berat ${b} kg. Berat timbangannya adalah ...`;
						}
					} else if (e1.index == 1) {
						soal_teks = `Di dalam sebuah toko buah, ibu sudah membeli apel sebanyak ${a} buah. Lalu adik memakan buah apelnya sebanyak ${b} apel. Berapa sisa buah apel sekarang?`;
					} else if (e1.index == 2) {
					    soal_teks = `Pada hari Minggu, ada acara yang cukup besar dan meriah, sehingga perlu disiapkan ${a} bungkus supaya acaranya lebih lengkap. Setiap bungkus akan diberikan ke semua orang, yang masing-masing berisi ${b} kue. Berapa banyak kue yang akan diberikan ke semua orang di acara tersebut?`;
					} else if (e1.index == 3) {
					    soal_teks = `Di suatu kelas di sekolah, terdapat beberapa kegiatan yang harus dibuat kelompok. Sebanyak ${a} siswa yang akan dibuat kelompok, yang masing-masing sebanyak ${b} orang. Berapa banyak kelompok yang terbentuk?`;
					} else if (e1.index == 7) {
					    soal_teks = `Andi mengunjungi perpustakaan setiap ${a} hari sekali, sedangkan Budi setiap ${b} hari sekali. Berapa hari sekali sehingga Andi dan Budi mengunjungi perpustakaan secara bersamaan?`;
					} else if (e1.index == 8) {
					    soal_teks = `Ibu memiliki ${a} buah apel dan ${b} buah jeruk. Buah-buahan tersebut akan dibagi secara rata kepada teman-teman di sekolah. Berapakah banyak anak yang mendapatkan buah-buahan tersebut secara rata?`;
					}
					soal_suara = soal_teks;
				}
				document.getElementById('soal').innerHTML = soal_teks;
				MathJax.typeset();
				if (document.getElementById('suara').checked) {
				    // speak(soal_teks);
					speak(soal_suara);
				}
				document.getElementById('tipe2').style.display = 'block';
			} else {
				// document.getElementById('soal').innerHTML = "Jenis pertanyaan ini belum tersedia";
                document.getElementById('soal').innerHTML = `<span style="color:yellow">Jenis pertanyaan ini belum tersedia</style>`;
				document.getElementById('tipe2').style.display = 'none';
			}
        }

        hasil = 0;

        function pilihan(change=false) {
            var e = document.getElementById("bentuk");
            var e1 = e.options[e.selectedIndex];
            
            e_bentuk = document.getElementById("pilihan-bentuk-sub");
            e1_bentuk = e_bentuk.options[e_bentuk.selectedIndex];

            if (e1.index <= 5) {
                document.getElementById("bentuk-sub").style.display = 'none';
            } else if (e1.index == 6) {
                document.getElementById("bentuk-sub").style.display = 'block';
                if (change) {
                    document.getElementById("pilihan-bentuk-sub").innerHTML = `
                        <option>Sisa Pembagian</option>
                        <option style="color:gray">Bilangan genap dan ganjil</option>
                        <option style="color:gray">Bilangan prima</option>
                        <option style="color:gray">Faktorisasi prima</option>
                    `;
                }
            } else if (e1.index == 7) {
                document.getElementById("bentuk-sub").style.display = 'block';
                if (change) {
                    document.getElementById("pilihan-bentuk-sub").innerHTML = `
                        <option>KPK dengan 2 angka</option>
                        <option>KPK dengan 3 angka</option>
                    `;
                }
            } else if (e1.index == 8) {
                document.getElementById("bentuk-sub").style.display = 'block';
                if (change) {
                    document.getElementById("pilihan-bentuk-sub").innerHTML = `
                        <option>FPB dengan 2 angka</option>
                        <option>FPB dengan 3 angka</option>
                    `;
                }
            } else if (e1.index == 9) {
                document.getElementById("bentuk-sub").style.display = 'block';
                if (change) {
                    document.getElementById("pilihan-bentuk-sub").innerHTML = `
                        <option>Penjumlahan Pecahan</option>
                        <option style="color:gray">Pengurangan Pecahan</option>
                        <option style="color:gray">Perkalian dan Pembagian Pecahan</option>
                        <option style="color:gray">Pecahan Campuran</option>
                    `;
                }
            } else if (e1.index == 14) {
                document.getElementById("bentuk-sub").style.display = 'block';
                if (change) {
                    document.getElementById("pilihan-bentuk-sub").innerHTML = `
                        <option style="color:gray">Jarak</option>
                        <option style="color:gray">Waktu</option>
                        <option style="color:gray">Kecepatan</option>
                        <option style="color:gray">Berat</option>
                        <option style="color:gray">Suhu</option>
                        <option style="color:gray">Energi</option>
                    `;
                }
            } else if (e1.index == 15) {
                document.getElementById("bentuk-sub").style.display = 'block';
                if (change) {
                    document.getElementById("pilihan-bentuk-sub").innerHTML = `
                        <option style="color:gray">Persegi</option>
                        <option style="color:gray">Persegi Panjang</option>
                        <option style="color:gray">Segitiga</option>
                        <option style="color:gray">Segiempat</option>
                        <option style="color:gray">Lingkaran</option>
                        <option style="color:gray">Campuran</option>
                        <option style="color:gray">Gabungan</option>
                    `;
                }
            } else if (e1.index == 16) {
                document.getElementById("bentuk-sub").style.display = 'block';
                if (change) {
                    document.getElementById("pilihan-bentuk-sub").innerHTML = `
                        <option style="color:gray">Kubus</option>
                        <option style="color:gray">Balok</option>
                        <option style="color:gray">Prisma</option>
                        <option style="color:gray">Limas</option>
                        <option style="color:gray">Bola</option>
                        <option style="color:gray">Campuran</option>
                        <option style="color:gray">Gabungan</option>
                    `;
                }
            } else if (e1.index == 19) {
                document.getElementById("bentuk-sub").style.display = 'block';
                if (change) {
                    document.getElementById("pilihan-bentuk-sub").innerHTML = `
                        <option style="color:gray">Pemfaktoran Linear</option>
                        <option style="color:gray">Pemfaktoran Kuadrat</option>
                        <option style="color:gray">Pemfaktoran Derajat Tinggi</option>
                        <option style="color:gray">Pemfaktoran Campuran</option>
                    `;
                }
            } else if (e1.index == 20) {
                document.getElementById("bentuk-sub").style.display = 'block';
                if (change) {
                    document.getElementById("pilihan-bentuk-sub").innerHTML = `
                        <option style="color:gray">Solusi</option>
                        <option style="color:gray">Diskriminan</option>
                        <option style="color:gray">Banyaknya Solusi</option>
                    `;
                }
            } else if (e1.index == 21) {
                document.getElementById("bentuk-sub").style.display = 'block';
                if (change) {
                    document.getElementById("pilihan-bentuk-sub").innerHTML = `
                        <option style="color:gray">Satu fungsi</option>
                        <option style="color:gray">Campuran</option>
                    `;
                }
            } else {
                document.getElementById("bentuk-sub").style.display = 'none';
            }
            
            if (e1.index == 0) document.getElementById("bentuk-penjelasan").innerHTML = `<img src="images/Addition01.svg.png" style="filter:invert(0%); padding-right:50px;" width="50"><img src="images/plus.png" width="80"><br><br>Penjumlahan ("+") merupakan penambahan sekelompok bilangan atau lebih menjadi suatu bilangan yang disebut jumlah. Misalnya, terdapat tiga apel di sisi kiri dan dua apel di sisi kanan, menghasilkan jumlah lima apel. Dalam simbol matematika, ini dilambangkan "3 + 2 = 5", disebut "3 ditambah 2 sama dengan 5".<br><br>Sumber: Wikipedia`;
            else if (e1.index == 1) document.getElementById("bentuk-penjelasan").innerHTML = `Pengurangan adalah operasi aritmetika yang mewakili operasi menghapus objek dari koleksi. Pengurangan ditandai dengan tanda minus, "-". Misalnya, 5 - 2 buah persik—artinya 5 buah persik dengan 2 buah yang diambil, menghasilkan total 3 buah persik. Oleh karena itu, selisih dari 5 dan 2 adalah 3; yaitu, 5 - 2 = 3.`;
            else if (e1.index == 2) document.getElementById("bentuk-penjelasan").innerHTML = `Perkalian ('×', '⋅', '*', 'x') adalah salah satu dari empat dasar operasi matematika dari aritmetika, dengan yang lainnya adalah penambahan, pengurangan dan pembagian.<br><br>Perkalian bilangan bulat dapat dianggap sebagai penjumlahan berulang; yaitu, perkalian dua bilangan sama dengan menjumlahkan sebanyak mungkin salinan salah satunya, perkalian, sebagai kuantitas yang lain, "pengganda". Kedua angka tersebut dapat disebut sebagai faktor.<br><br>Misalnya, 4 dikalikan 3, ditulis sebagai 4 x 3 dan diucapkan sebagai "3 dikali 4", dapat dihitung dengan menambahkan 3 salinan dari 4 secara bersamaan:<br><br>3 x 4 = 4 + 4 + 4 = 12<br><br>Maka, 3 (pengganda) dan 4 (pengganda) adalah faktor, dan 12 adalah produk.`;
            else if (e1.index == 3) document.getElementById("bentuk-penjelasan").innerHTML = `Pembagian ('/', ':') adalah salah satu dari empat operasi dasar aritmetika, cara bilangan digabungkan untuk membuat bilangan baru. Operasi lainnya adalah penambahan, pengurangan, dan perkalian.`;
            else if (e1.index == 6) document.getElementById("bentuk-penjelasan").innerHTML = `Faktorisasi prima adalah pecahan bilangan komposit yang terdiri dari bilangan-bilangan pembagi yang lebih kecil, dan hasil perkalian dari bilangan-bilangan tersebut sama dengan bilangan komposit yang disebutkan. Contohnya, faktorisasi prima bilangan 84 adalah 2x2x3x7, di mana bilangan 2, 3 dan 7 adalah bilangan prima dan bilangan pembagi 84.`.replaceAll("/","&#x005c");
            else if (e1.index == 7) document.getElementById("bentuk-penjelasan").innerHTML = `Dalam aritmetika dan teori bilangan, kelipatan persekutuan terkecil dari dua bilangan adalah bilangan bulat positif terkecil yang dapat dibagi habis oleh kedua bilangan tersebut. Kelipatan persekutuan terkecil biasanya disingkat sebagai KPK atau dituliskan LCM, dalam bahasa Inggris. Notasi kelipatan persekutuan dari bilangan a dan b dituliskan sebagai /(/mathrm{KPK(a,b)}/). Sebagai contoh, diberikan bilangan bulat 12 dan 20. Karena kelipatan dari masing-masing kedua bilangan adalah 12, 24, 36, 48, 60, … dan 20, 40, 60, 80, …, maka /(/mathrm{KPK(12,20)} = 60/). Kelipatan persekutuan lainnya adalah 120, 180, 240, 300, …. Suatu kelipatan persekutuan terkecil dari bilangan yang lebih dari dua dapat dilakukan dengan cara yang serupa.`.replaceAll("/","&#x005c");
            else if (e1.index == 8) document.getElementById("bentuk-penjelasan").innerHTML = `Dalam matematika, faktor persekutuan terbesar (FPB) dari dua bilangan bulat adalah bilangan bulat terbesar yang sama-sama membagi habis kedua bilangan bulat tersebut. Sebagai contoh, faktor persekutuan terbesar 24 dan 60 adalah 12.
            <br><br>
            Dua bilangan atau lebih disebut saling prima jika FPB bilangan-bilangan tersebut sama dengan 1. Sebagai contoh, karena FPB bilangan 9 dan 28 sama dengan 1, maka bilangan 9 dan 28 adalah saling prima (walaupun masing-masingnya bukan bilangan prima)
            <br><br>
            Faktor persekutuan terbesar (FPB) dan sekawannya, kelipatan persekutuan terkecil (KPK), menjadi pembahasan yang penting dalam aritmatika dan teori bilangan.`.replaceAll("/","&#x005c");
            else document.getElementById("bentuk-penjelasan").innerHTML = '';
            document.getElementById("bentuk-penjelasan").style.lineHeight = '1.5em';

            var bs = document.getElementById("pilihan-bentuk-soal");
            var bs2 = bs.options[bs.selectedIndex];

            if (e1.index <= 3) {
                document.getElementById("bentuk-soal").style.display = 'block';

                if (change) {
                    document.getElementById("pilihan-bentuk-soal").innerHTML = `
                        <option>Tulisan Datar</option>
                        <option>Bentuk Bersusun</option>
                    `;
                }

                // var bs = document.getElementById("pilihan-bentuk-soal");
                // var bs2 = bs.options[bs.selectedIndex];

                if (bs2.index == 0) {
                    // \documentclass{article}
                    // \usepackage{longdivision}
                    // \begin{document}
                    // \intlongdivision{12345}{13}
                    // \end{document}
                    document.getElementById("contoh-bentuk-soal").innerHTML = `
                    <span>
                    Contoh:<br><br>
                    Hasil dari 123 + 45 adalah ...
                    </span>
                    `;
                } else {
                    document.getElementById("contoh-bentuk-soal").innerHTML = `
                    <span>
                    Contoh:<br><br>
                    <div class="column" style="font-size:20px; width:15px">&nbsp;</div>
                    <div class="column" style="font-size:20px; width:15px">1</div>
                    <div class="column" style="font-size:20px; width:15px">2</div>
                    <div class="column" style="font-size:20px; width:15px">3</div>
                    <div class="clearfix"></div>
                    <div class="column" style="font-size:20px; width:15px">+</div>
                    <div class="column" style="font-size:20px; width:15px">&nbsp;</div>
                    <div class="column" style="font-size:20px; width:15px">4</div>
                    <div class="column" style="font-size:20px; width:15px">5</div>
                    <div class="clearfix"></div>
                    <hr style="float:left; width:90px; height:2px; border-width:0; background-color:white">
                    </span>
                    `;
                }

            } else if (e1.index >= 4 & e1.index <= 8) {
                document.getElementById("bentuk-soal").style.display = 'none';

            } else {
                document.getElementById("bentuk-soal").style.display = 'block';

                if (change) {
                    // document.getElementById("pilihan-bentuk-soal").innerHTML = `
                    //     <option>Bentuk Pembagian</option>
                    //     <option>Bentuk Pecahan</option>
                    // `;
                    document.getElementById("pilihan-bentuk-soal").innerHTML = `
                        <option>Bentuk Pecahan</option>
                        <option>Bentuk Pembagian</option>
                    `;
                }

                if (bs2.index == 0) {
                    text = `
                    Contoh:<br><br>
                    /[x = {-b /pm /sqrt{b^2-4ac} /over 2a}./]
                    `.replaceAll("/","&#x005c");

                    soal_teks = `Contoh:<br><br>Hasil dari <span style="font-size:20px">/({1 /over 4} + {2 /over 3}/)`.replaceAll("/","&#x005c");
                    soal_teks += `</span> adalah ...`;
                    document.getElementById("contoh-bentuk-soal").innerHTML = soal_teks;
                    
                    // document.getElementById("contoh-bentuk-soal").innerHTML = `<span>${text}</span>`;
                    // $("#contoh-bentuk-soal").append(`<span>${text}</span>`);
                    // MathJax.Hub.Queue(["Typeset",MathJax.Hub]);
                } else {
                    document.getElementById("contoh-bentuk-soal").innerHTML = `Contoh:<br><br>Hasil dari 1/4 + 2/3 adalah ...`;;
                }
            }

            

            MathJax.typeset();
            
            var tipe = document.getElementById("tipe");
            var tipe2 = tipe.options[tipe.selectedIndex];
            
            var j_pilihan = document.getElementById("jumlah-pilihan");
            j_pilihan2 = parseInt(j_pilihan.options[j_pilihan.selectedIndex].innerHTML);
            // console.log(j_pilihan2)

            var waktu_timer = parseInt(document.getElementById("waktu").value);
            console.log(waktu_timer);

            d2 = new Date();
            time2 = d2.getTime();
            interval = 200;

            if (waktu_timer == 0) {
                document.getElementById('timer').style.display = 'none';
                waktu_check = true;
            } else {
                document.getElementById('timer').style.display = 'block';
                waktu_check = false;
            }

            if (waktu_timer == 1) {
                document.getElementById('waktu-timer').style.display = 'block';
                document.getElementById('timer-icon').style.left = '650px';
                waktu_timer = document.getElementById('waktu2').value;
            } else {
                document.getElementById('waktu-timer').style.display = 'none';
                document.getElementById('timer-icon').style.left = '400px';
            }

            // myInterval = "";
            // var myInterval;
            // clearInterval(myInterval);
            // document.getElementById('timer').innerHTML = `${waktu_timer} detik`;
            waktu_teks = `Sisa waktu:<br><span style="font-size:24px; line-height:40px;">`;

            if (waktu_timer < 60) {
                waktu_teks += `${waktu_timer} detik`;
            } else if (waktu_timer % 60 < 1) {
                waktu_teks += `${Math.floor(waktu_timer/60)} menit`;
            } else {
                waktu_teks += `${Math.floor(waktu_timer/60)} menit ${waktu_timer % 60} detik`;
            }

            waktu_teks += "</span><br>";
			waktu_teks += `<div style="background-color:gray; position:absolute; width:300px; height:5px;"></div><div style="background-color:#80ff80; position:absolute; width:300px; height:5px;"></div>`;
			
            document.getElementById('timer').innerHTML = waktu_teks;

            myInterval = setInterval(function() {
                d3 = new Date();
                time3 = d3.getTime();
                waktu_timer = parseInt(document.getElementById("waktu").value);
                // console.log(waktu_timer);
                if (waktu_timer == 1) {
                    waktu_timer = parseInt(document.getElementById('waktu2').value);
                    if (isNaN(waktu_timer)) {
                        waktu_timer = 0;
                    }
                    // console.log(waktu_timer);
                }
                // console.log(waktu_timer);
                // console.log(time2,time3,waktu_timer);
                waktu2 = parseInt(Math.min(waktu_timer,Math.max(0,(time2-time3)/1000+waktu_timer+1)));
                // waktu_teks = `Waktu: ${waktu2} detik`;

                waktu_teks = `Sisa waktu:<br><span style="font-size:24px; line-height:40px;">`;

                if (waktu2 < 60) {
                    waktu_teks += `${waktu2} detik`;
                } else if (waktu2 % 60 < 1) {
                    waktu_teks += `${Math.floor(waktu2/60)} menit`;
                } else {
                    waktu_teks += `${Math.floor(waktu2/60)} menit ${waktu2 % 60} detik`;
                }

                waktu_teks += "</span>";
                waktu_teks += `<div style="background-color:gray; position:absolute; width:300px; height:5px;"></div><div style="background-color:#80ff80; position:absolute; width:${300*waktu2/waktu_timer}px; height:5px;"></div>`;

                document.getElementById('timer').innerHTML = waktu_teks;

                if (waktu_timer > 0 & waktu2 == 0) {
                    document.getElementById('tipe2').style.display = 'none';
                }
            }, interval);
			
			if (waktu_timer > 0 & waktu2 == 0) {
				document.getElementById('tipe2').style.display = 'none';
				clearInterval(myInterval);
				// if (document.getElementById('suara').checked) {
					// speak("Waktunya habis");
				// }
			}

            function shuffleArray(array) {
                for (let i = array.length - 1; i >= 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
            }
            
            if (tipe2.index == 0) {
                document.getElementById("pilihan").style.display = "none";
                // <input type="number" id="angka" min="0">
                document.getElementById('tipe2').innerHTML = `
                <label>Input jawaban</label><br>
                <input type="text" id="angka" min="0">
                `;
                var input = document.getElementById("angka");
                input.addEventListener("keypress", function(event) {
                    if (event.key === "Enter") {
                        event.preventDefault();
                        document.getElementById("solve").click();
                    }
                });
                // hasil = 0;
                hasil2 = hasil;
                // console.log(hasil2);

            } else {
                document.getElementById("pilihan").style.display = "block";
                // var e = document.getElementById("bentuk");
                // var e1 = e.options[e.selectedIndex];
                pilihan_index = Math.floor(j_pilihan2 * Math.random());
                // c = Math.floor(5*Math.random());
                pilihan_list = [12,13,14,15,16];
                pilihan_list = [];
                if (e1.index == 0) {
                    // hasil = a+b;
                    // pilihan_list = [
                    //     a+b+1+Math.floor(b/2*Math.random()),
                    for (let i = 0; i < 5; i++) {
                        value = a+b+Math.floor(-(a+b)/2+Math.max(a+b,6)*Math.random());
                        while (pilihan_list.indexOf(value) > -1 | value == hasil) {
                            value = a+b+Math.floor(-(a+b)/2+Math.max(a+b,6)*Math.random());
                        }
                        pilihan_list.push(value);
                    }
                    
                } else if (e1.index == 1) {
                    for (let i = 0; i < 5; i++) {
                        value = a-b+Math.floor(-(a-b)/2+Math.max(a-b,6)*Math.random());
                        while (pilihan_list.indexOf(value) > -1 | value == hasil) {
                            value = a-b+Math.floor(-(a-b)/2+Math.max(a-b,6)*Math.random());
                        }
                        pilihan_list.push(value);
                    }
                    
                } else if (e1.index == 2) {
                    // pilihan_list = [
                    //     Math.floor(a/2+a*Math.random())*Math.floor(b/2+b*Math.random()),
                    //     Math.floor(a/2+a*Math.random())*Math.floor(b/2+b*Math.random()),
                    //     Math.floor(a/2+a*Math.random())*Math.floor(b/2+b*Math.random()),
                    //     Math.floor(a/2+a*Math.random())*Math.floor(b/2+b*Math.random()),
                    //     Math.floor(a/2+a*Math.random())*Math.floor(b/2+b*Math.random()),
                    // ];
                    // for (let i = 0; i < cars.length; i++) {
                    for (let i = 0; i < 5; i++) {
                        value = Math.floor(a/2+Math.max(a,3)*Math.random())*Math.floor(b/2+Math.max(b,3)*Math.random());
                        while (pilihan_list.indexOf(value) > -1 | value == hasil) {
                            value = Math.floor(a/2+Math.max(a,3)*Math.random())*Math.floor(b/2+Math.max(b,3)*Math.random());
                        }
                        pilihan_list.push(value);
                    }
                    console.log(pilihan_list);

                } else if (e1.index == 3) {
                    // pilihan_list = [12,13,14,15,16];
                    // pilihan_list = [
                    //     Math.floor(1+2*a/b*Math.random()),
                    for (let i = 0; i < 5; i++) {
                        value = Math.floor(1+Math.max(2*a/b,6)*Math.random());
                        while (pilihan_list.indexOf(value) > -1 | value == hasil) {
                            value = Math.floor(1+Math.max(2*a/b,6)*Math.random());
                        }
                        pilihan_list.push(value);
                    }
				
				} else if (e1.index == 4 | e1.index == 5) {
                    for (let i = 0; i < 5; i++) {
                        value = hasil+Math.floor(-hasil/2+Math.max(hasil,6)*Math.random());
                        while (pilihan_list.indexOf(value) > -1 | value == hasil) {
                            value = hasil+Math.floor(-hasil/2+Math.max(hasil,6)*Math.random());
                        }
                        pilihan_list.push(value);
                    }
				
				} else if (e1.index == 6) {
                    for (let i = 0; i < 5; i++) {
                        value = Math.floor(Math.max(b,6)*Math.random());
                        while (pilihan_list.indexOf(value) > -1 | value == hasil) {
                            value = Math.floor(Math.max(b,6)*Math.random());
                        }
                        pilihan_list.push(value);
                    }
				}
				
                pilihan_list = pilihan_list.sort( () => .5 - Math.random() );
                pilihan_list = pilihan_list.slice(0,j_pilihan2);
                pilihan_list[pilihan_index] = hasil;
				
				if (pilihan_index == 0) {hasil2 = hasil + ' (A)';}
				else if (pilihan_index == 1) {hasil2 = hasil + ' (B)';}
				else if (pilihan_index == 2) {hasil2 = hasil + ' (C)';}
				else if (pilihan_index == 3) {hasil2 = hasil + ' (D)';}
				else {hasil2 = hasil + ' (E)';}
				
                // <div class="column">
                document.getElementById('tipe2').innerHTML = `
                <span>Pilihan jawaban</span><br><br>
                <label class="rb-container" style="width:150px;">A. ${pilihan_list[0]}
                    <input type="radio" id="pilihan1" value="${pilihan_list[0]}" name="pilihan" value="0">
                    <span class="checkradio"></span>
                </label>
                <label class="rb-container" style="width:150px;">B. ${pilihan_list[1]}
                    <input type="radio" id="pilihan2" value="${pilihan_list[1]}" name="pilihan" value="1">
                    <span class="checkradio"></span>
                </label>
                <label class="rb-container" style="width:150px;">C. ${pilihan_list[2]}
                    <input type="radio" id="pilihan3" value="${pilihan_list[2]}" name="pilihan" value="2">
                    <span class="checkradio"></span>
                </label>
                `;
                if (j_pilihan2 >= 4) {
                    document.getElementById('tipe2').innerHTML += `
                    <label class="rb-container" style="width:150px;">D. ${pilihan_list[3]}
                        <input type="radio" id="pilihan4" value="${pilihan_list[3]}" name="pilihan" value="3">
                        <span class="checkradio"></span>
                    </label>
                    `;
                }
                if (j_pilihan2 == 5) {
                    document.getElementById('tipe2').innerHTML += `
                    <label class="rb-container" style="width:150px;">E. ${pilihan_list[4]}
                        <input type="radio" id="pilihan5" value="${pilihan_list[4]}" name="pilihan" value="4">
                        <span class="checkradio"></span>
                    </label>
                    <div class="clearfix"></div><br>
                    `;
                }
            }
        }

        function selesaikan() {
            var tipe = document.getElementById("tipe");
            var tipe2 = tipe.options[tipe.selectedIndex];

            if (document.getElementById('check2').checked) {
                document.getElementById('tipe2').style.display = 'none';
            }

            if (tipe2.index == 0) {
                var angka_awal = document.getElementById('angka').value;
            } else {
                // var angka_awal = document.getElementsByName('pilihan1').value;
                if (document.getElementById("pilihan1").checked) {
                    var angka_awal = document.getElementById('pilihan1').value;
                } else if (document.getElementById("pilihan2").checked) {
                    var angka_awal = document.getElementById('pilihan2').value;
                } else if (document.getElementById("pilihan3").checked) {
                    var angka_awal = document.getElementById('pilihan3').value;
                } else if (j_pilihan2 >= 4) {
                    if (document.getElementById("pilihan4").checked) {
                        var angka_awal = document.getElementById('pilihan4').value;
                    }
                } else if (j_pilihan2 == 5) {
                    if (document.getElementById("pilihan5").checked) {
                        var angka_awal = document.getElementById('pilihan5').value;
                    }
                } else {
                    var angka_awal = '';
                }
            }
            if (angka_awal != '') {
                var e = document.getElementById("bentuk");
                var e1 = e.options[e.selectedIndex];
                // var tanda = '';
                if (e1.index <= 8) {
                    angka = parseInt(angka_awal);
                } else {
                    angka = angka_awal;
                }
                // if (e1.index == 0) {
                //     tanda = ' + ';
				var jawaban_teks, jawaban_teks2;
				if (cerita_check.checked == true) {
				    soal = '';
				}
                if (angka == hasil) {
                    // jawaban_teks = `Jawabannya benar<br><br> ${soal} = ${hasil}`;
					jawaban_teks = `Jawabannya benar<br><br> ${soal} = ${hasil2}`;
					jawaban_teks2 = 'Jawabannya benar';
                } else {
                    jawaban_teks = `Jawabannya salah<br>Jawaban yang diinput: ${angka}<br><br>${soal} = ${hasil2}`;
					jawaban_teks2 = 'Jawabannya salah';
                }
				document.getElementById('jawaban').innerHTML = jawaban_teks;
				if (document.getElementById('suara').checked) {
				    speak(jawaban_teks2);
				}
            } else {
                document.getElementById('jawaban').innerHTML = 'Input angka harus diisi';
            }
        }
    </script>
</body>
